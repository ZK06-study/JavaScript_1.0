# 24. Í∏∞ÌÉÄ Ïú†Ïö©Ìïú Í∏∞Îä•Îì§ - ÌÄ¥Ï¶à

## Í∞ùÍ¥ÄÏãù Î¨∏Ï†ú

### 1. üü¢ Íµ¨Ï°∞ Î∂ÑÌï¥ Ìï†ÎãπÏóêÏÑú Í∏∞Î≥∏Í∞íÏùÑ ÏÑ§Ï†ïÌïòÎäî Î¨∏Î≤ïÏùÄ?
a) `const {name || 'default'} = obj`
b) `const {name = 'default'} = obj`
c) `const {name: 'default'} = obj`
d) `const {name && 'default'} = obj`

### 2. üü° Ïä§ÌîÑÎ†àÎìú Ïó∞ÏÇ∞ÏûêÏùò Ïö©ÎèÑÍ∞Ä ÏïÑÎãå Í≤ÉÏùÄ?
a) Î∞∞Ïó¥ ÏöîÏÜå ÌéºÏπòÍ∏∞
b) Í∞ùÏ≤¥ ÏÜçÏÑ± Î≥µÏÇ¨
c) Ìï®Ïàò Îß§Í∞úÎ≥ÄÏàò ÌéºÏπòÍ∏∞
d) Î≥ÄÏàò ÏÑ†Ïñ∏

### 3. üü† Ï†ïÍ∑ú ÌëúÌòÑÏãùÏóêÏÑú Ï†ÑÏó≠ Í≤ÄÏÉâÏùÑ ÎÇòÌÉÄÎÇ¥Îäî ÌîåÎûòÍ∑∏Îäî?
a) i
b) g
c) m
d) s

### 4. üü° `JSON.stringify()`ÏóêÏÑú ÏàúÌôò Ï∞∏Ï°∞Í∞Ä ÏûàÏùÑ Îïå Î∞úÏÉùÌïòÎäî ÏóêÎü¨Îäî?
a) SyntaxError
b) TypeError
c) ReferenceError
d) RangeError

### 5. üü† `Proxy`Ïùò Ï£ºÏöî Ïö©ÎèÑÎ°ú Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏùÄ Í≤ÉÏùÄ?
a) Í∞ùÏ≤¥ Ï†ëÍ∑º Í∞ÄÎ°úÏ±ÑÍ∏∞
b) ÏÜçÏÑ± ÏÑ§Ï†ï Í∞ÄÎ°úÏ±ÑÍ∏∞
c) Î©îÎ™®Î¶¨ ÏûêÎèô Ï†ïÎ¶¨
d) Î©îÏÑúÎìú Ìò∏Ï∂ú Í∞ÄÎ°úÏ±ÑÍ∏∞

### 6. üü° Rest parameterÏùò Ïò¨Î∞îÎ•∏ Î¨∏Î≤ïÏùÄ?
a) `function fn(a, b, ...rest)`
b) `function fn(a, ...rest, b)`
c) `function fn(...rest, a, b)`
d) `function fn(a, b, rest...)`

## Îã®ÎãµÌòï Î¨∏Ï†ú

### 7. üü¢ `{a, b}`ÏóêÏÑú aÏùò Í∞íÏùÑ xÎùºÎäî Î≥ÄÏàòÏóê Ìï†ÎãπÌïòÎäî Íµ¨Ï°∞ Î∂ÑÌï¥ Î¨∏Î≤ïÏùÄ?

### 8. üü° Î¨∏ÏûêÏó¥ÏóêÏÑú Ï†ïÍ∑ú ÌëúÌòÑÏãùÍ≥º ÏùºÏπòÌïòÎäî Î™®Îì† Î∂ÄÎ∂ÑÏùÑ Ï∞æÎäî Î©îÏÑúÎìúÎäî?

### 9. üü† Í∞ùÏ≤¥Î•º JSON Î¨∏ÏûêÏó¥Î°ú Î≥ÄÌôòÌï† Îïå ÌäπÏ†ï ÏÜçÏÑ±Îßå Ìè¨Ìï®ÏãúÌÇ§Îäî Îß§Í∞úÎ≥ÄÏàòÎäî?

### 10. üü¢ Î∞∞Ïó¥Ïùò ÏöîÏÜåÎì§ÏùÑ Îã§Î•∏ Î∞∞Ïó¥Ïóê Í∞úÎ≥ÑÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÌï† Îïå ÏÇ¨Ïö©ÌïòÎäî Ïó∞ÏÇ∞ÏûêÎäî?

## ÏÑúÏà†Ìòï Î¨∏Ï†ú

### 11. üü° Íµ¨Ï°∞ Î∂ÑÌï¥ Ìï†ÎãπÏùò Îã§ÏñëÌïú ÌôúÏö©Î≤ïÍ≥º Ïû•Ï†êÏùÑ ÏòàÏãúÏôÄ Ìï®Íªò ÏÑ§Î™ÖÌïòÏãúÏò§.

### 12. üü† ProxyÏôÄ ReflectÏùò Í¥ÄÍ≥ÑÏôÄ ÌôúÏö© ÏÇ¨Î°ÄÎ•º ÏÑ§Î™ÖÌïòÏãúÏò§.

### 13. üü° Ï†ïÍ∑ú ÌëúÌòÑÏãùÏùò Ï£ºÏöî Î©îÌÉÄÎ¨∏ÏûêÏôÄ Ïã§Ïö©Ï†ÅÏù∏ Ìå®ÌÑ¥Îì§ÏùÑ ÏÑ§Î™ÖÌïòÏãúÏò§.

## ÏΩîÎî© Î¨∏Ï†ú

### 14. üü¢ Îã§Ïùå ÏöîÍµ¨ÏÇ¨Ìï≠Ïóê Îî∞Îùº Ìï®ÏàòÎ•º ÏûëÏÑ±ÌïòÏãúÏò§.
```javascript
// 1. Í∞ùÏ≤¥ÏóêÏÑú ÌäπÏ†ï ÏÜçÏÑ±Îì§Îßå Ï∂îÏ∂úÌïòÎäî Ìï®Ïàò (Íµ¨Ï°∞ Î∂ÑÌï¥ ÌôúÏö©)
// 2. Î∞∞Ïó¥ ÌèâÌÉÑÌôî Ìï®Ïàò (Ïä§ÌîÑÎ†àÎìú Ïó∞ÏÇ∞Ïûê ÌôúÏö©)
// 3. Ìï®Ïàò Îß§Í∞úÎ≥ÄÏàò Í∏∞Î≥∏Í∞í ÏÑ§Ï†ï (Íµ¨Ï°∞ Î∂ÑÌï¥ + Í∏∞Î≥∏Í∞í)
```

### 15. üü° Ï†ïÍ∑ú ÌëúÌòÑÏãùÏùÑ ÌôúÏö©Ìïú Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨ ÎùºÏù¥Î∏åÎü¨Î¶¨Î•º ÏûëÏÑ±ÌïòÏãúÏò§.
```javascript
// Ïù¥Î©îÏùº, Ï†ÑÌôîÎ≤àÌò∏, ÎπÑÎ∞ÄÎ≤àÌò∏, URL Í≤ÄÏ¶ù
// Ïª§Ïä§ÌÖÄ Ìå®ÌÑ¥ Ï∂îÍ∞Ä Í∏∞Îä•
// Ïó¨Îü¨ Í∑úÏπô Ï°∞Ìï© ÏßÄÏõê
```

### 16. üü† ProxyÎ•º Ïù¥Ïö©Ìïú Í∞ùÏ≤¥ Î≥ÄÌôî Í∞êÏßÄ ÏãúÏä§ÌÖúÏùÑ Íµ¨ÌòÑÌïòÏãúÏò§.
```javascript
// ÏÜçÏÑ± Î≥ÄÍ≤Ω Í∞êÏßÄ
// Ï§ëÏ≤© Í∞ùÏ≤¥ ÏßÄÏõê
// Î≥ÄÍ≤Ω Ïù¥Î†• Ï∂îÏ†Å
// ÏΩúÎ∞± ÏãúÏä§ÌÖú
```

### 17. üü° JSONÏùÑ ÏïàÏ†ÑÌïòÍ≤å Îã§Î£®Îäî Ïú†Ìã∏Î¶¨Ìã∞ Ìï®ÏàòÎì§ÏùÑ ÏûëÏÑ±ÌïòÏãúÏò§.
```javascript
// ÍπäÏùÄ Î≥µÏÇ¨, ÏàúÌôò Ï∞∏Ï°∞ Ï≤òÎ¶¨
// Ïä§ÌÇ§Îßà Í≤ÄÏ¶ù
// ÏÑ†ÌÉùÏ†Å ÏßÅÎ†¨Ìôî/Ïó≠ÏßÅÎ†¨Ìôî
```

## ÏùëÏö© Î¨∏Ï†ú

### 18. üü† Îã§Ïùå Íµ¨Ï°∞ Î∂ÑÌï¥ Ìï†ÎãπÏùò Í≤∞Í≥ºÎ•º ÏòàÏÉÅÌïòÍ≥† ÏÑ§Î™ÖÌïòÏãúÏò§.
```javascript
const arr = [1, 2, 3, 4, 5];
const obj = { a: 1, b: 2, c: 3 };

const [first, , third, ...rest] = arr;
const {a, b: newB, d = 'default'} = obj;

console.log(first, third, rest);
console.log(a, newB, d);
```

### 19. üü† Î©îÌÉÄÌîÑÎ°úÍ∑∏ÎûòÎ∞çÏùÑ ÌôúÏö©Ìïú ÎèôÏ†Å API ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Î•º Íµ¨ÌòÑÌïòÏãúÏò§.
```javascript
// ProxyÎ•º Ïù¥Ïö©Ìï¥ API ÏóîÎìúÌè¨Ïù∏Ìä∏Î•º Î©îÏÑúÎìúÏ≤òÎüº Ìò∏Ï∂ú
// ÏûêÎèô ÏöîÏ≤≠ Íµ¨ÏÑ± Î∞è ÏùëÎãµ Ï≤òÎ¶¨
// ÌÉÄÏûÖ Ï∂îÎ°† Î∞è Í≤ÄÏ¶ù
```

### 20. üü† Í≥†Í∏â Ìå®ÌÑ¥ Îß§Ïπ≠ ÎùºÏù¥Î∏åÎü¨Î¶¨Î•º Íµ¨ÌòÑÌïòÏãúÏò§.
```javascript
// Îã§ÏñëÌïú Îç∞Ïù¥ÌÑ∞ ÌÉÄÏûÖ Îß§Ïπ≠
// Í∞ÄÎìú Ï°∞Í±¥ ÏßÄÏõê
// Ï§ëÏ≤© Ìå®ÌÑ¥ Îß§Ïπ≠
// Ìï®ÏàòÌòï ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç Ïä§ÌÉÄÏùº
```

---

## Ï†ïÎãµ

### Í∞ùÍ¥ÄÏãù Ï†ïÎãµ
1. b) `const {name = 'default'} = obj`
2. d) Î≥ÄÏàò ÏÑ†Ïñ∏
3. b) g (global)
4. b) TypeError
5. c) Î©îÎ™®Î¶¨ ÏûêÎèô Ï†ïÎ¶¨
6. a) `function fn(a, b, ...rest)`

### Îã®ÎãµÌòï Ï†ïÎãµ
7. `const {a: x} = obj`
8. `matchAll()` ÎòêÎäî `match()` (g ÌîåÎûòÍ∑∏ÏôÄ Ìï®Íªò)
9. `replacer` (Îëê Î≤àÏß∏ Îß§Í∞úÎ≥ÄÏàò)
10. `...` (Ïä§ÌîÑÎ†àÎìú Ïó∞ÏÇ∞Ïûê)

### ÏÑúÏà†Ìòï Ï†ïÎãµ
11. **Íµ¨Ï°∞ Î∂ÑÌï¥ Ìï†ÎãπÏùò ÌôúÏö©Î≤ï:**
```javascript
// Î∞∞Ïó¥ Íµ¨Ï°∞ Î∂ÑÌï¥
const [a, b] = [1, 2];
const [first, ...rest] = [1, 2, 3, 4];

// Í∞ùÏ≤¥ Íµ¨Ï°∞ Î∂ÑÌï¥
const {name, age} = user;
const {name: userName, age = 0} = user;

// Ìï®Ïàò Îß§Í∞úÎ≥ÄÏàò
function greet({name, age = 0}) { ... }

// Ï§ëÏ≤© Íµ¨Ï°∞ Î∂ÑÌï¥
const {address: {city}} = user;

// Ïû•Ï†ê: ÏΩîÎìú Í∞ÑÍ≤∞ÏÑ±, Í∞ÄÎèÖÏÑ± Ìñ•ÏÉÅ, Í∏∞Î≥∏Í∞í ÏÑ§Ï†ï Ïö©Ïù¥
```

12. **ProxyÏôÄ Reflect:**
- **Proxy**: Í∞ùÏ≤¥Ïùò Í∏∞Î≥∏ ÎèôÏûëÏùÑ Í∞ÄÎ°úÏ±ÑÍ≥† Ïû¨Ï†ïÏùò
- **Reflect**: ProxyÏôÄ ÎèôÏùºÌïú Î©îÏÑúÎìúÎ•º Ï†úÍ≥µÌïòÎäî ÎÇ¥Ïû• Í∞ùÏ≤¥
- **Í¥ÄÍ≥Ñ**: Proxy Ìï∏Îì§Îü¨ÏóêÏÑú Reflect ÏÇ¨Ïö©ÌïòÏó¨ Í∏∞Î≥∏ ÎèôÏûë ÏàòÌñâ
- **ÌôúÏö©**: Îç∞Ïù¥ÌÑ∞ Î∞îÏù∏Îî©, ÏÜçÏÑ± Í≤ÄÏ¶ù, Î°úÍπÖ, Ï∫êÏã±

13. **Ï†ïÍ∑ú ÌëúÌòÑÏãù Ìå®ÌÑ¥:**
- **Î©îÌÉÄÎ¨∏Ïûê**: `.` (Î™®Îì† Î¨∏Ïûê), `*` (0Ìöå Ïù¥ÏÉÅ), `+` (1Ìöå Ïù¥ÏÉÅ), `?` (0Ìöå ÎòêÎäî 1Ìöå)
- **Î¨∏Ïûê ÌÅ¥ÎûòÏä§**: `[a-z]`, `\d` (Ïà´Ïûê), `\w` (Îã®Ïñ¥ Î¨∏Ïûê), `\s` (Í≥µÎ∞±)
- **ÏïµÏª§**: `^` (ÏãúÏûë), `$` (ÎÅù)
- **Í∑∏Î£π**: `()` (Ï∫°Ï≤òÎßÅ), `(?:)` (ÎπÑÏ∫°Ï≤òÎßÅ)

### ÏΩîÎî© Ï†ïÎãµ
14.
```javascript
// 1. Í∞ùÏ≤¥ÏóêÏÑú ÌäπÏ†ï ÏÜçÏÑ±Îì§Îßå Ï∂îÏ∂ú
function pick(obj, keys) {
  const result = {};
  for (const key of keys) {
    if (key in obj) {
      result[key] = obj[key];
    }
  }
  return result;
}

// Íµ¨Ï°∞ Î∂ÑÌï¥Î•º ÌôúÏö©Ìïú Î≤ÑÏ†Ñ
function pickDestructured(obj, ...keys) {
  return keys.reduce((result, key) => {
    const { [key]: value } = obj;
    if (value !== undefined) {
      result[key] = value;
    }
    return result;
  }, {});
}

// 2. Î∞∞Ïó¥ ÌèâÌÉÑÌôî Ìï®Ïàò
function flatten(arr, depth = Infinity) {
  const result = [];
  
  for (const item of arr) {
    if (Array.isArray(item) && depth > 0) {
      result.push(...flatten(item, depth - 1));
    } else {
      result.push(item);
    }
  }
  
  return result;
}

// Ïä§ÌîÑÎ†àÎìú Ïó∞ÏÇ∞ÏûêÎ•º ÌôúÏö©Ìïú Î≤ÑÏ†Ñ
function flattenSpread(arr) {
  return arr.reduce((acc, val) => 
    Array.isArray(val) ? [...acc, ...flattenSpread(val)] : [...acc, val], []);
}

// 3. Ìï®Ïàò Îß§Í∞úÎ≥ÄÏàò Í∏∞Î≥∏Í∞í ÏÑ§Ï†ï
function createUser({
  name = 'Anonymous',
  age = 0,
  email = '',
  preferences: {
    theme = 'light',
    language = 'ko',
    notifications = true
  } = {}
} = {}) {
  return {
    name,
    age,
    email,
    preferences: {
      theme,
      language,
      notifications
    },
    createdAt: new Date()
  };
}

// ÏÇ¨Ïö© ÏòàÏãú
console.log(pick({ a: 1, b: 2, c: 3 }, ['a', 'c'])); // { a: 1, c: 3 }
console.log(flatten([[1, 2], [3, [4, 5]]])); // [1, 2, 3, 4, 5]
console.log(createUser({ name: 'Alice', preferences: { theme: 'dark' } }));
```

15.
```javascript
// Ï†ïÍ∑ú ÌëúÌòÑÏãù Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨ ÎùºÏù¥Î∏åÎü¨Î¶¨
class Validator {
  constructor() {
    this.patterns = {
      email: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
      phone: /^(\+?[1-9]\d{1,14}|0[1-9]\d{8,9})$/,
      url: /^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$/,
      password: {
        weak: /^.{6,}$/,
        medium: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/,
        strong: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&]).{8,}$/
      },
      korean: /^[Í∞Ä-Ìû£]+$/,
      englishOnly: /^[a-zA-Z]+$/,
      alphanumeric: /^[a-zA-Z0-9]+$/,
      creditCard: /^(?:\d{4}-?){3}\d{4}$/
    };
    
    this.customPatterns = new Map();
    this.rules = new Map();
  }
  
  // Ïª§Ïä§ÌÖÄ Ìå®ÌÑ¥ Ï∂îÍ∞Ä
  addPattern(name, pattern, description = '') {
    this.customPatterns.set(name, { pattern, description });
  }
  
  // Î≥µÌï© Í∑úÏπô Ï†ïÏùò
  defineRule(name, validators) {
    this.rules.set(name, validators);
  }
  
  // Îã®Ïùº Ìå®ÌÑ¥ Í≤ÄÏ¶ù
  validate(value, patternName) {
    let pattern;
    
    if (this.patterns[patternName]) {
      pattern = this.patterns[patternName];
    } else if (this.customPatterns.has(patternName)) {
      pattern = this.customPatterns.get(patternName).pattern;
    } else {
      throw new Error(`Pattern '${patternName}' not found`);
    }
    
    // Ï§ëÏ≤©Îêú Ìå®ÌÑ¥ Ï≤òÎ¶¨ (Ïòà: password.strong)
    if (typeof pattern === 'object' && !pattern.test) {
      const parts = patternName.split('.');
      if (parts.length > 1) {
        pattern = pattern[parts[1]];
      }
    }
    
    if (!pattern || typeof pattern.test !== 'function') {
      throw new Error(`Invalid pattern for '${patternName}'`);
    }
    
    return {
      isValid: pattern.test(value),
      pattern: pattern.source,
      value
    };
  }
  
  // Î≥µÌï© Í∑úÏπô Í≤ÄÏ¶ù
  validateRule(value, ruleName) {
    const rule = this.rules.get(ruleName);
    if (!rule) {
      throw new Error(`Rule '${ruleName}' not found`);
    }
    
    const results = [];
    let allValid = true;
    
    for (const validator of rule) {
      let result;
      
      if (typeof validator === 'string') {
        result = this.validate(value, validator);
      } else if (typeof validator === 'function') {
        result = validator(value);
      } else if (validator.pattern) {
        result = this.validate(value, validator.pattern);
        result.message = validator.message;
      }
      
      results.push(result);
      if (!result.isValid) {
        allValid = false;
      }
    }
    
    return {
      isValid: allValid,
      results,
      value
    };
  }
  
  // Í∞ùÏ≤¥ Ï†ÑÏ≤¥ Í≤ÄÏ¶ù
  validateObject(obj, schema) {
    const results = {};
    let allValid = true;
    
    for (const [field, validators] of Object.entries(schema)) {
      const value = obj[field];
      
      if (Array.isArray(validators)) {
        results[field] = this.validateRule(value, `temp_${field}`);
        // ÏûÑÏãú Í∑úÏπôÏúºÎ°ú Í≤ÄÏ¶ù
        this.rules.set(`temp_${field}`, validators);
        results[field] = this.validateRule(value, `temp_${field}`);
        this.rules.delete(`temp_${field}`);
      } else {
        results[field] = this.validate(value, validators);
      }
      
      if (!results[field].isValid) {
        allValid = false;
      }
    }
    
    return {
      isValid: allValid,
      fields: results
    };
  }
  
  // Ïã§ÏãúÍ∞Ñ Í≤ÄÏ¶ù (debouncing Ìè¨Ìï®)
  createLiveValidator(element, patternName, options = {}) {
    const { 
      debounceTime = 300,
      onValid = () => {},
      onInvalid = () => {}
    } = options;
    
    let timeout;
    
    const validator = (event) => {
      clearTimeout(timeout);
      timeout = setTimeout(() => {
        const result = this.validate(event.target.value, patternName);
        
        if (result.isValid) {
          onValid(result, element);
        } else {
          onInvalid(result, element);
        }
      }, debounceTime);
    };
    
    element.addEventListener('input', validator);
    
    return () => element.removeEventListener('input', validator);
  }
  
  // Ìå®ÌÑ¥ Î™©Î°ù Ï°∞Ìöå
  getPatterns() {
    return {
      builtin: Object.keys(this.patterns),
      custom: Array.from(this.customPatterns.keys()),
      rules: Array.from(this.rules.keys())
    };
  }
}

// ÏÇ¨Ïö© ÏòàÏãú
const validator = new Validator();

// Ïª§Ïä§ÌÖÄ Ìå®ÌÑ¥ Ï∂îÍ∞Ä
validator.addPattern('koreanName', /^[Í∞Ä-Ìû£]{2,4}$/, 'ÌïúÍµ≠Ïñ¥ Ïù¥Î¶Ñ (2-4Í∏ÄÏûê)');
validator.addPattern('username', /^[a-zA-Z0-9_]{3,20}$/, 'ÏÇ¨Ïö©ÏûêÎ™Ö (3-20Ïûê, ÏòÅÎ¨∏/Ïà´Ïûê/Ïñ∏ÎçîÏä§ÏΩîÏñ¥)');

// Î≥µÌï© Í∑úÏπô Ï†ïÏùò
validator.defineRule('signupForm', [
  'email',
  'password.strong',
  (value) => ({ isValid: value.length >= 8, message: '8Ïûê Ïù¥ÏÉÅ ÏûÖÎ†•ÌïòÏÑ∏Ïöî' })
]);

// Í≤ÄÏ¶ù Ïã§Ìñâ
const emailResult = validator.validate('test@example.com', 'email');
console.log('Ïù¥Î©îÏùº Í≤ÄÏ¶ù:', emailResult);

const passwordResult = validator.validate('MyPass123!', 'password.strong');
console.log('ÎπÑÎ∞ÄÎ≤àÌò∏ Í≤ÄÏ¶ù:', passwordResult);

// Í∞ùÏ≤¥ Ï†ÑÏ≤¥ Í≤ÄÏ¶ù
const userForm = {
  email: 'user@example.com',
  username: 'user123',
  name: 'ÍπÄÏ≤†Ïàò'
};

const schema = {
  email: 'email',
  username: 'username',
  name: 'koreanName'
};

const formResult = validator.validateObject(userForm, schema);
console.log('Ìèº Í≤ÄÏ¶ù:', formResult);
```

16.
```javascript
// ProxyÎ•º Ïù¥Ïö©Ìïú Í∞ùÏ≤¥ Î≥ÄÌôî Í∞êÏßÄ ÏãúÏä§ÌÖú
class ChangeDetector {
  constructor(target, options = {}) {
    this.target = target;
    this.options = {
      deep: true,
      trackHistory: true,
      maxHistorySize: 100,
      ...options
    };
    
    this.listeners = new Set();
    this.history = [];
    this.proxies = new WeakMap();
    
    return this.createProxy(target, []);
  }
  
  createProxy(target, path) {
    if (this.proxies.has(target)) {
      return this.proxies.get(target);
    }
    
    const self = this;
    
    const proxy = new Proxy(target, {
      get(obj, prop, receiver) {
        const value = Reflect.get(obj, prop, receiver);
        
        // Î©îÏÑúÎìú Î∞îÏù∏Îî© Ï≤òÎ¶¨
        if (typeof value === 'function') {
          return value.bind(obj);
        }
        
        // ÍπäÏùÄ Í∞êÏßÄÍ∞Ä ÌôúÏÑ±ÌôîÎêòÍ≥† Í∞ùÏ≤¥Ïù∏ Í≤ΩÏö∞ Ï§ëÏ≤© ÌîÑÎ°ùÏãú ÏÉùÏÑ±
        if (self.options.deep && 
            value !== null && 
            typeof value === 'object' && 
            !self.proxies.has(value)) {
          return self.createProxy(value, [...path, prop]);
        }
        
        return value;
      },
      
      set(obj, prop, value, receiver) {
        const oldValue = obj[prop];
        const result = Reflect.set(obj, prop, value, receiver);
        
        if (result && oldValue !== value) {
          const change = {
            type: 'set',
            path: [...path, prop],
            property: prop,
            oldValue,
            newValue: value,
            timestamp: Date.now(),
            target: obj
          };
          
          self.recordChange(change);
          self.notifyListeners(change);
        }
        
        return result;
      },
      
      deleteProperty(obj, prop) {
        const oldValue = obj[prop];
        const result = Reflect.deleteProperty(obj, prop);
        
        if (result) {
          const change = {
            type: 'delete',
            path: [...path, prop],
            property: prop,
            oldValue,
            newValue: undefined,
            timestamp: Date.now(),
            target: obj
          };
          
          self.recordChange(change);
          self.notifyListeners(change);
        }
        
        return result;
      },
      
      defineProperty(obj, prop, descriptor) {
        const oldDescriptor = Object.getOwnPropertyDescriptor(obj, prop);
        const result = Reflect.defineProperty(obj, prop, descriptor);
        
        if (result) {
          const change = {
            type: 'define',
            path: [...path, prop],
            property: prop,
            oldValue: oldDescriptor?.value,
            newValue: descriptor.value,
            timestamp: Date.now(),
            target: obj
          };
          
          self.recordChange(change);
          self.notifyListeners(change);
        }
        
        return result;
      }
    });
    
    this.proxies.set(target, proxy);
    return proxy;
  }
  
  // Î≥ÄÍ≤Ω ÏÇ¨Ìï≠ Í∏∞Î°ù
  recordChange(change) {
    if (!this.options.trackHistory) return;
    
    this.history.push(change);
    
    // ÌûàÏä§ÌÜ†Î¶¨ ÌÅ¨Í∏∞ Ï†úÌïú
    if (this.history.length > this.options.maxHistorySize) {
      this.history.shift();
    }
  }
  
  // Î¶¨Ïä§ÎÑàÎì§ÏóêÍ≤å ÏïåÎ¶º
  notifyListeners(change) {
    this.listeners.forEach(listener => {
      try {
        listener(change);
      } catch (error) {
        console.error('Change listener error:', error);
      }
    });
  }
  
  // Î≥ÄÍ≤Ω Í∞êÏßÄ Î¶¨Ïä§ÎÑà Ï∂îÍ∞Ä
  onChange(callback) {
    this.listeners.add(callback);
    
    return () => this.listeners.delete(callback);
  }
  
  // ÌäπÏ†ï Í≤ΩÎ°ú Î≥ÄÍ≤Ω Í∞êÏßÄ
  onPathChange(path, callback) {
    const pathArray = Array.isArray(path) ? path : path.split('.');
    
    const listener = (change) => {
      if (this.pathMatches(change.path, pathArray)) {
        callback(change);
      }
    };
    
    return this.onChange(listener);
  }
  
  // Í≤ΩÎ°ú Îß§Ïπ≠ ÌôïÏù∏
  pathMatches(changePath, targetPath) {
    if (targetPath.length > changePath.length) return false;
    
    return targetPath.every((segment, index) => 
      segment === '*' || segment === changePath[index]
    );
  }
  
  // ÌûàÏä§ÌÜ†Î¶¨ Ï°∞Ìöå
  getHistory(filter = null) {
    if (!filter) return [...this.history];
    
    return this.history.filter(change => {
      if (filter.type && change.type !== filter.type) return false;
      if (filter.property && change.property !== filter.property) return false;
      if (filter.path && !this.pathMatches(change.path, filter.path)) return false;
      if (filter.since && change.timestamp < filter.since) return false;
      return true;
    });
  }
  
  // Î≥ÄÍ≤Ω ÏÇ¨Ìï≠ ÎêòÎèåÎ¶¨Í∏∞
  undo(steps = 1) {
    const changes = this.history.slice(-steps).reverse();
    
    for (const change of changes) {
      this.revertChange(change);
    }
    
    // ÎêòÎèåÎ¶∞ Î≥ÄÍ≤ΩÏÇ¨Ìï≠ÏùÑ ÌûàÏä§ÌÜ†Î¶¨ÏóêÏÑú Ï†úÍ±∞
    this.history.splice(-steps, steps);
  }
  
  // Í∞úÎ≥Ñ Î≥ÄÍ≤Ω ÏÇ¨Ìï≠ ÎêòÎèåÎ¶¨Í∏∞
  revertChange(change) {
    let target = this.target;
    
    // Í≤ΩÎ°úÎ•º Îî∞Îùº ÎåÄÏÉÅ Í∞ùÏ≤¥ Ï∞æÍ∏∞
    for (let i = 0; i < change.path.length - 1; i++) {
      target = target[change.path[i]];
      if (!target) return false;
    }
    
    const property = change.path[change.path.length - 1];
    
    switch (change.type) {
      case 'set':
        if (change.oldValue === undefined) {
          delete target[property];
        } else {
          target[property] = change.oldValue;
        }
        break;
        
      case 'delete':
        target[property] = change.oldValue;
        break;
        
      case 'define':
        if (change.oldValue === undefined) {
          delete target[property];
        } else {
          target[property] = change.oldValue;
        }
        break;
    }
    
    return true;
  }
  
  // ÌÜµÍ≥Ñ Ï†ïÎ≥¥
  getStats() {
    const typeCount = this.history.reduce((acc, change) => {
      acc[change.type] = (acc[change.type] || 0) + 1;
      return acc;
    }, {});
    
    return {
      totalChanges: this.history.length,
      changesByType: typeCount,
      listeners: this.listeners.size,
      oldestChange: this.history[0]?.timestamp,
      newestChange: this.history[this.history.length - 1]?.timestamp
    };
  }
}

// ÏÇ¨Ïö© ÏòàÏãú
const user = {
  name: 'Alice',
  profile: {
    age: 30,
    settings: {
      theme: 'light'
    }
  },
  hobbies: ['reading', 'coding']
};

const watchedUser = new ChangeDetector(user, {
  deep: true,
  trackHistory: true
});

// Ï†ÑÏ≤¥ Î≥ÄÍ≤Ω Í∞êÏßÄ
const unsubscribe = watchedUser.onChange((change) => {
  console.log('Î≥ÄÍ≤Ω Í∞êÏßÄ:', {
    type: change.type,
    path: change.path.join('.'),
    old: change.oldValue,
    new: change.newValue
  });
});

// ÌäπÏ†ï Í≤ΩÎ°ú Î≥ÄÍ≤Ω Í∞êÏßÄ
const unsubscribeProfile = watchedUser.onPathChange(['profile', '*'], (change) => {
  console.log('ÌîÑÎ°úÌïÑ Î≥ÄÍ≤Ω:', change);
});

// Î≥ÄÍ≤Ω ÌÖåÏä§Ìä∏
watchedUser.name = 'Bob';                          // Î≥ÄÍ≤Ω Í∞êÏßÄ
watchedUser.profile.age = 31;                      // ÍπäÏùÄ Î≥ÄÍ≤Ω Í∞êÏßÄ
watchedUser.profile.settings.theme = 'dark';      // Îçî ÍπäÏùÄ Î≥ÄÍ≤Ω Í∞êÏßÄ
watchedUser.hobbies.push('gaming');               // Î∞∞Ïó¥ Î≥ÄÍ≤Ω Í∞êÏßÄ
delete watchedUser.profile.age;                   // ÏÇ≠Ï†ú Í∞êÏßÄ

// ÌûàÏä§ÌÜ†Î¶¨ Ï°∞Ìöå
console.log('Ï†ÑÏ≤¥ ÌûàÏä§ÌÜ†Î¶¨:', watchedUser.getHistory());
console.log('ÏÑ§Ï†ï Î≥ÄÍ≤ΩÎßå:', watchedUser.getHistory({ 
  path: ['profile', 'settings'] 
}));

// Î≥ÄÍ≤Ω ÎêòÎèåÎ¶¨Í∏∞
watchedUser.undo(2); // ÎßàÏßÄÎßâ 2Í∞ú Î≥ÄÍ≤ΩÏÇ¨Ìï≠ ÎêòÎèåÎ¶¨Í∏∞

console.log('ÌÜµÍ≥Ñ:', watchedUser.getStats());
```

### ÏùëÏö© Ï†ïÎãµ
18.
```javascript
// Ïã§Ìñâ Í≤∞Í≥º:
const arr = [1, 2, 3, 4, 5];
const obj = { a: 1, b: 2, c: 3 };

const [first, , third, ...rest] = arr;
// first = 1, third = 3, rest = [4, 5]

const {a, b: newB, d = 'default'} = obj;
// a = 1, newB = 2, d = 'default'

console.log(first, third, rest);  // 1 3 [4, 5]
console.log(a, newB, d);          // 1 2 'default'

// ÏÑ§Î™Ö:
// - [first, , third, ...rest]: Ï≤´ Î≤àÏß∏ÏôÄ ÏÑ∏ Î≤àÏß∏ ÏöîÏÜåÎ•º Ï∂îÏ∂ú, Îëê Î≤àÏß∏Îäî Í±¥ÎÑàÎõ∞Í≥†, ÎÇòÎ®∏ÏßÄÎäî rest Î∞∞Ïó¥Ïóê
// - {a, b: newB, d = 'default'}: a Í∑∏ÎåÄÎ°ú, bÎ•º newBÎ°ú Î≥ÑÏπ≠, dÎäî Ï°¥Ïû¨ÌïòÏßÄ ÏïäÏúºÎØÄÎ°ú Í∏∞Î≥∏Í∞í ÏÇ¨Ïö©
```

19.
```javascript
// Î©îÌÉÄÌîÑÎ°úÍ∑∏ÎûòÎ∞çÏùÑ ÌôúÏö©Ìïú ÎèôÏ†Å API ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏
class DynamicApiClient {
  constructor(baseURL, options = {}) {
    this.baseURL = baseURL;
    this.options = {
      timeout: 5000,
      headers: { 'Content-Type': 'application/json' },
      ...options
    };
    
    this.interceptors = {
      request: [],
      response: []
    };
    
    return this.createProxy();
  }
  
  createProxy() {
    return new Proxy(this, {
      get(target, prop, receiver) {
        // Í∏∞Ï°¥ Î©îÏÑúÎìúÎÇò ÏÜçÏÑ±Ïù¥ ÏûàÏúºÎ©¥ Í∑∏ÎåÄÎ°ú Î∞òÌôò
        if (prop in target) {
          return Reflect.get(target, prop, receiver);
        }
        
        // HTTP Î©îÏÑúÎìú Í∞êÏßÄ
        const httpMethods = ['get', 'post', 'put', 'delete', 'patch', 'head', 'options'];
        
        for (const method of httpMethods) {
          if (prop.startsWith(method)) {
            const endpoint = target.extractEndpoint(prop, method);
            return target.createRequestFunction(method.toUpperCase(), endpoint);
          }
        }
        
        // RESTful Ìå®ÌÑ¥ Í∞êÏßÄ
        if (target.isResourcePattern(prop)) {
          return target.createResourceProxy(prop);
        }
        
        // Í∏∞Î≥∏ GET ÏöîÏ≤≠ÏúºÎ°ú Ï≤òÎ¶¨
        return target.createRequestFunction('GET', target.camelToKebab(prop));
      }
    });
  }
  
  // ÏóîÎìúÌè¨Ïù∏Ìä∏ Ï∂îÏ∂ú
  extractEndpoint(prop, method) {
    const endpoint = prop.slice(method.length);
    return endpoint ? this.camelToKebab(endpoint) : '';
  }
  
  // Î¶¨ÏÜåÏä§ Ìå®ÌÑ¥ Í∞êÏßÄ (Î≥µÏàòÌòï Î™ÖÏÇ¨)
  isResourcePattern(prop) {
    return prop.endsWith('s') && prop.length > 1;
  }
  
  // Î¶¨ÏÜåÏä§ ÌîÑÎ°ùÏãú ÏÉùÏÑ±
  createResourceProxy(resource) {
    const self = this;
    
    return new Proxy({}, {
      get(target, prop, receiver) {
        if (prop === 'create') {
          return (data) => self.request('POST', `/${resource}`, data);
        }
        
        if (prop === 'list') {
          return (params) => self.request('GET', `/${resource}`, null, params);
        }
        
        if (prop === 'update') {
          return (id, data) => self.request('PUT', `/${resource}/${id}`, data);
        }
        
        if (prop === 'delete') {
          return (id) => self.request('DELETE', `/${resource}/${id}`);
        }
        
        if (prop === 'get') {
          return (id) => self.request('GET', `/${resource}/${id}`);
        }
        
        // Ïà´ÏûêÎ©¥ IDÎ°ú Í∞ÑÏ£º
        if (!isNaN(prop)) {
          return self.createResourceInstance(resource, prop);
        }
        
        return undefined;
      }
    });
  }
  
  // Í∞úÎ≥Ñ Î¶¨ÏÜåÏä§ Ïù∏Ïä§ÌÑ¥Ïä§ ÏÉùÏÑ±
  createResourceInstance(resource, id) {
    const self = this;
    
    return new Proxy({}, {
      get(target, prop, receiver) {
        if (prop === 'get') {
          return () => self.request('GET', `/${resource}/${id}`);
        }
        
        if (prop === 'update') {
          return (data) => self.request('PUT', `/${resource}/${id}`, data);
        }
        
        if (prop === 'delete') {
          return () => self.request('DELETE', `/${resource}/${id}`);
        }
        
        // Ï§ëÏ≤© Î¶¨ÏÜåÏä§
        return self.createRequestFunction('GET', `/${resource}/${id}/${self.camelToKebab(prop)}`);
      }
    });
  }
  
  // ÏöîÏ≤≠ Ìï®Ïàò ÏÉùÏÑ±
  createRequestFunction(method, endpoint) {
    return (data, params) => {
      const url = endpoint.startsWith('/') ? endpoint : `/${endpoint}`;
      return this.request(method, url, data, params);
    };
  }
  
  // Ïã§Ï†ú HTTP ÏöîÏ≤≠
  async request(method, url, data = null, params = null) {
    let fullURL = `${this.baseURL}${url}`;
    
    // ÏøºÎ¶¨ ÌååÎùºÎØ∏ÌÑ∞ Ï∂îÍ∞Ä
    if (params && Object.keys(params).length > 0) {
      const searchParams = new URLSearchParams(params);
      fullURL += `?${searchParams.toString()}`;
    }
    
    const config = {
      method,
      headers: { ...this.options.headers },
      signal: AbortSignal.timeout(this.options.timeout)
    };
    
    // ÏöîÏ≤≠ Î≥∏Î¨∏ Ï∂îÍ∞Ä
    if (data && ['POST', 'PUT', 'PATCH'].includes(method)) {
      config.body = JSON.stringify(data);
    }
    
    // ÏöîÏ≤≠ Ïù∏ÌÑ∞ÏÖâÌÑ∞ Ïã§Ìñâ
    const processedConfig = await this.runInterceptors('request', {
      url: fullURL,
      method,
      data,
      params,
      config
    });
    
    try {
      const response = await fetch(processedConfig.url, processedConfig.config);
      
      let responseData;
      const contentType = response.headers.get('content-type');
      
      if (contentType?.includes('application/json')) {
        responseData = await response.json();
      } else {
        responseData = await response.text();
      }
      
      const responseObj = {
        data: responseData,
        status: response.status,
        statusText: response.statusText,
        headers: Object.fromEntries(response.headers.entries()),
        url: response.url
      };
      
      if (!response.ok) {
        throw new ApiError(responseObj);
      }
      
      // ÏùëÎãµ Ïù∏ÌÑ∞ÏÖâÌÑ∞ Ïã§Ìñâ
      return await this.runInterceptors('response', responseObj);
      
    } catch (error) {
      if (error instanceof ApiError) {
        throw error;
      }
      throw new ApiError({
        data: { message: error.message },
        status: 0,
        statusText: 'Network Error'
      });
    }
  }
  
  // Ïù∏ÌÑ∞ÏÖâÌÑ∞ Ïã§Ìñâ
  async runInterceptors(type, data) {
    let result = data;
    
    for (const interceptor of this.interceptors[type]) {
      result = await interceptor(result);
    }
    
    return result;
  }
  
  // Ïù∏ÌÑ∞ÏÖâÌÑ∞ Ï∂îÍ∞Ä
  addRequestInterceptor(fn) {
    this.interceptors.request.push(fn);
  }
  
  addResponseInterceptor(fn) {
    this.interceptors.response.push(fn);
  }
  
  // Ïú†Ìã∏Î¶¨Ìã∞ Î©îÏÑúÎìú
  camelToKebab(str) {
    return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();
  }
}

// API ÏóêÎü¨ ÌÅ¥ÎûòÏä§
class ApiError extends Error {
  constructor(response) {
    super(response.data?.message || `HTTP ${response.status}: ${response.statusText}`);
    this.name = 'ApiError';
    this.response = response;
    this.status = response.status;
  }
}

// ÏÇ¨Ïö© ÏòàÏãú
const api = new DynamicApiClient('https://api.example.com');

// Ïù∏ÌÑ∞ÏÖâÌÑ∞ ÏÑ§Ï†ï
api.addRequestInterceptor(async (config) => {
  const token = localStorage.getItem('authToken');
  if (token) {
    config.config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

api.addResponseInterceptor(async (response) => {
  console.log('API Response:', response.status, response.url);
  return response;
});

// ÎèôÏ†Å API Ìò∏Ï∂ú ÏòàÏãú
async function demonstrateApi() {
  try {
    // RESTful Ìå®ÌÑ¥
    const users = await api.users.list({ page: 1, limit: 10 });
    const user = await api.users.get(123);
    const newUser = await api.users.create({ name: 'John', email: 'john@example.com' });
    const updatedUser = await api.users.update(123, { name: 'John Doe' });
    await api.users.delete(123);
    
    // Í∞úÎ≥Ñ Î¶¨ÏÜåÏä§ Ïù∏Ïä§ÌÑ¥Ïä§
    const userInstance = api.users[123];
    const userData = await userInstance.get();
    const userPosts = await userInstance.posts();
    
    // HTTP Î©îÏÑúÎìú Í∏∞Î∞ò Ìò∏Ï∂ú
    const profile = await api.getUserProfile(123);
    const settings = await api.postUserSettings({ theme: 'dark' });
    
    // ÏßÅÏ†ë ÏóîÎìúÌè¨Ïù∏Ìä∏ Ìò∏Ï∂ú
    const stats = await api.statistics();
    const health = await api.healthCheck();
    
    console.log('API calls completed successfully');
    
  } catch (error) {
    if (error instanceof ApiError) {
      console.error('API Error:', error.status, error.message);
    } else {
      console.error('Unexpected error:', error);
    }
  }
}

demonstrateApi();
```

20.
```javascript
// Í≥†Í∏â Ìå®ÌÑ¥ Îß§Ïπ≠ ÎùºÏù¥Î∏åÎü¨Î¶¨
class PatternMatcher {
  constructor() {
    this.patterns = [];
  }
  
  // Ìå®ÌÑ¥ Îß§Ïπ≠ ÎπåÎçî ÏãúÏûë
  when(pattern) {
    return new PatternBuilder(this, pattern);
  }
  
  // Í∏∞Î≥∏ ÏºÄÏù¥Ïä§
  otherwise(handler) {
    this.patterns.push({
      pattern: () => true,
      guard: null,
      handler,
      isDefault: true
    });
    return this;
  }
  
  // Í∞íÏóê ÎåÄÌï¥ Îß§Ïπ≠ Ïã§Ìñâ
  match(value) {
    for (const { pattern, guard, handler } of this.patterns) {
      const matched = this.matchPattern(pattern, value);
      
      if (matched.success) {
        // Í∞ÄÎìú Ï°∞Í±¥ ÌôïÏù∏
        if (guard && !guard(matched.bindings, value)) {
          continue;
        }
        
        return handler(matched.bindings, value);
      }
    }
    
    throw new Error('No pattern matched and no default case provided');
  }
  
  // Ìå®ÌÑ¥ Îß§Ïπ≠ Î°úÏßÅ
  matchPattern(pattern, value) {
    const bindings = {};
    
    if (this.isPattern(pattern)) {
      return pattern.match(value, bindings);
    }
    
    if (typeof pattern === 'function') {
      try {
        const result = pattern(value);
        return { success: !!result, bindings };
      } catch {
        return { success: false, bindings };
      }
    }
    
    if (pattern === value || pattern === Pattern.any) {
      return { success: true, bindings };
    }
    
    // Î∞∞Ïó¥ Ìå®ÌÑ¥
    if (Array.isArray(pattern) && Array.isArray(value)) {
      return this.matchArray(pattern, value, bindings);
    }
    
    // Í∞ùÏ≤¥ Ìå®ÌÑ¥
    if (this.isPlainObject(pattern) && this.isPlainObject(value)) {
      return this.matchObject(pattern, value, bindings);
    }
    
    return { success: false, bindings };
  }
  
  // Î∞∞Ïó¥ Ìå®ÌÑ¥ Îß§Ïπ≠
  matchArray(pattern, value, bindings) {
    let patternIndex = 0;
    let valueIndex = 0;
    
    while (patternIndex < pattern.length && valueIndex < value.length) {
      const patternElement = pattern[patternIndex];
      
      // Ïä§ÌîÑÎ†àÎìú Ìå®ÌÑ¥ Ï≤òÎ¶¨
      if (this.isSpreadPattern(patternElement)) {
        const remaining = pattern.length - patternIndex - 1;
        const elementsToTake = value.length - valueIndex - remaining;
        
        if (elementsToTake < 0) {
          return { success: false, bindings };
        }
        
        bindings[patternElement.name] = value.slice(valueIndex, valueIndex + elementsToTake);
        valueIndex += elementsToTake;
        patternIndex++;
        continue;
      }
      
      const matched = this.matchPattern(patternElement, value[valueIndex]);
      if (!matched.success) {
        return { success: false, bindings };
      }
      
      Object.assign(bindings, matched.bindings);
      patternIndex++;
      valueIndex++;
    }
    
    // Í∏∏Ïù¥ Í≤ÄÏÇ¨
    if (patternIndex !== pattern.length || valueIndex !== value.length) {
      return { success: false, bindings };
    }
    
    return { success: true, bindings };
  }
  
  // Í∞ùÏ≤¥ Ìå®ÌÑ¥ Îß§Ïπ≠
  matchObject(pattern, value, bindings) {
    for (const [key, patternValue] of Object.entries(pattern)) {
      if (!(key in value)) {
        return { success: false, bindings };
      }
      
      const matched = this.matchPattern(patternValue, value[key]);
      if (!matched.success) {
        return { success: false, bindings };
      }
      
      Object.assign(bindings, matched.bindings);
    }
    
    return { success: true, bindings };
  }
  
  // Ìó¨Ìçº Î©îÏÑúÎìúÎì§
  isPattern(obj) {
    return obj && typeof obj.match === 'function';
  }
  
  isSpreadPattern(obj) {
    return obj && obj.__type === 'spread';
  }
  
  isPlainObject(obj) {
    return obj && typeof obj === 'object' && obj.constructor === Object;
  }
}

// Ìå®ÌÑ¥ ÎπåÎçî ÌÅ¥ÎûòÏä§
class PatternBuilder {
  constructor(matcher, pattern) {
    this.matcher = matcher;
    this.pattern = pattern;
    this.guardCondition = null;
  }
  
  guard(condition) {
    this.guardCondition = condition;
    return this;
  }
  
  then(handler) {
    this.matcher.patterns.push({
      pattern: this.pattern,
      guard: this.guardCondition,
      handler,
      isDefault: false
    });
    return this.matcher;
  }
}

// Ìå®ÌÑ¥ ÏÉùÏÑ± Ìó¨ÌçºÎì§
class Pattern {
  static any = Symbol('any');
  
  static bind(name) {
    return {
      match(value, bindings) {
        bindings[name] = value;
        return { success: true, bindings };
      }
    };
  }
  
  static type(typeName) {
    return {
      match(value, bindings) {
        const match = typeof value === typeName ||
                     (typeName === 'array' && Array.isArray(value)) ||
                     (typeName === 'null' && value === null);
        return { success: match, bindings };
      }
    };
  }
  
  static range(min, max) {
    return {
      match(value, bindings) {
        const match = typeof value === 'number' && value >= min && value <= max;
        return { success: match, bindings };
      }
    };
  }
  
  static oneOf(...values) {
    return {
      match(value, bindings) {
        return { success: values.includes(value), bindings };
      }
    };
  }
  
  static regex(pattern) {
    return {
      match(value, bindings) {
        const match = typeof value === 'string' && pattern.test(value);
        return { success: match, bindings };
      }
    };
  }
  
  static spread(name) {
    return {
      __type: 'spread',
      name
    };
  }
  
  static object(schema) {
    return {
      match(value, bindings) {
        if (!value || typeof value !== 'object') {
          return { success: false, bindings };
        }
        
        for (const [key, pattern] of Object.entries(schema)) {
          if (!(key in value)) {
            return { success: false, bindings };
          }
          
          const matcher = new PatternMatcher();
          const matched = matcher.matchPattern(pattern, value[key]);
          
          if (!matched.success) {
            return { success: false, bindings };
          }
          
          Object.assign(bindings, matched.bindings);
        }
        
        return { success: true, bindings };
      }
    };
  }
}

// Ìé∏Ïùò Ìï®Ïàò
function match(value) {
  const matcher = new PatternMatcher();
  matcher._value = value;
  
  const proxy = new Proxy(matcher, {
    get(target, prop) {
      if (prop === 'with') {
        return function(patternFn) {
          return patternFn(target);
        };
      }
      return target[prop];
    }
  });
  
  return proxy;
}

// ÏÇ¨Ïö© ÏòàÏãú
function demonstratePatternMatching() {
  // 1. Í∏∞Î≥∏ Ìå®ÌÑ¥ Îß§Ïπ≠
  const result1 = match(42)
    .when(Pattern.type('string')).then(() => 'It is a string')
    .when(Pattern.range(1, 100)).then((_, value) => `Number in range: ${value}`)
    .otherwise(() => 'Something else')
    .match(42);
  
  console.log('Basic matching:', result1); // "Number in range: 42"
  
  // 2. Î∞∞Ïó¥ Î∂ÑÌï¥ Îß§Ïπ≠
  const result2 = match([1, 2, 3, 4, 5])
    .when([Pattern.bind('first'), Pattern.spread('rest')])
    .then(({ first, rest }) => `First: ${first}, Rest: ${rest}`)
    .match([1, 2, 3, 4, 5]);
  
  console.log('Array destructuring:', result2); // "First: 1, Rest: 2,3,4,5"
  
  // 3. Í∞ùÏ≤¥ Îß§Ïπ≠
  const user = { type: 'admin', name: 'Alice', age: 30 };
  
  const result3 = match(user)
    .when({ type: 'admin', name: Pattern.bind('name') })
    .guard(({ name }) => name.length > 3)
    .then(({ name }) => `Admin: ${name}`)
    .when({ type: 'user' })
    .then(() => 'Regular user')
    .otherwise(() => 'Unknown user type')
    .match(user);
  
  console.log('Object matching:', result3); // "Admin: Alice"
  
  // 4. Î≥µÌï© Ìå®ÌÑ¥ Îß§Ïπ≠ (HTTP ÏùëÎãµ Ï≤òÎ¶¨)
  function handleHttpResponse(response) {
    return match(response)
      .when({ status: Pattern.range(200, 299), data: Pattern.bind('data') })
      .then(({ data }) => ({ success: true, data }))
      
      .when({ status: Pattern.oneOf(400, 401, 403) })
      .then(() => ({ success: false, error: 'Client error' }))
      
      .when({ status: Pattern.range(500, 599) })
      .then(() => ({ success: false, error: 'Server error' }))
      
      .otherwise(() => ({ success: false, error: 'Unknown error' }))
      .match(response);
  }
  
  console.log('HTTP 200:', handleHttpResponse({ status: 200, data: 'success' }));
  console.log('HTTP 404:', handleHttpResponse({ status: 404 }));
  console.log('HTTP 500:', handleHttpResponse({ status: 500 }));
  
  // 5. Ïû¨Í∑ÄÏ†Å Îç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞ Îß§Ïπ≠ (JSON AST)
  function processJsonAst(node) {
    return match(node)
      .when({ type: 'string', value: Pattern.bind('str') })
      .then(({ str }) => `"${str}"`)
      
      .when({ type: 'number', value: Pattern.bind('num') })
      .then(({ num }) => num.toString())
      
      .when({ type: 'array', items: Pattern.bind('items') })
      .then(({ items }) => `[${items.map(processJsonAst).join(', ')}]`)
      
      .when({ type: 'object', properties: Pattern.bind('props') })
      .then(({ props }) => {
        const pairs = props.map(prop => 
          `${processJsonAst(prop.key)}: ${processJsonAst(prop.value)}`
        );
        return `{${pairs.join(', ')}}`;
      })
      
      .otherwise(() => 'null')
      .match(node);
  }
  
  const jsonAst = {
    type: 'object',
    properties: [
      {
        key: { type: 'string', value: 'name' },
        value: { type: 'string', value: 'Alice' }
      },
      {
        key: { type: 'string', value: 'age' },
        value: { type: 'number', value: 30 }
      }
    ]
  };
  
  console.log('JSON AST:', processJsonAst(jsonAst));
}

demonstratePatternMatching();
```

<function_calls>
<invoke name="TodoWrite">
<parameter name="todos">[{"id": "quiz-12", "content": "12\ubc88 \uac12 \ub354 \uc54c\uc544\ubcf4\uae30 \ud034\uc988 \uc791\uc131", "status": "completed", "priority": "medium"}, {"id": "quiz-13", "content": "13\ubc88 \ud568\uc218 \ub354 \uc54c\uc544\ubcf4\uae30 \ud034\uc988 \uc791\uc131", "status": "completed", "priority": "medium"}, {"id": "quiz-14", "content": "14\ubc88 \uac1d\uccb4 \ub354 \uc54c\uc544\ubcf4\uae30 \ud034\uc988 \uc791\uc131", "status": "completed", "priority": "medium"}, {"id": "quiz-15", "content": "15\ubc88 \uc5f0\uc0b0\uc790 \uc2ec\ud654 \ud034\uc988 \uc791\uc131", "status": "completed", "priority": "medium"}, {"id": "quiz-16", "content": "16\ubc88 \ub0b4\uc7a5 \uac1d\uccb4 \ud034\uc988 \uc791\uc131", "status": "completed", "priority": "medium"}, {"id": "quiz-17", "content": "17\ubc88 \ud568\uc218\ud615 \ud504\ub85c\uadf8\ub798\ubc0d \ud034\uc988 \uc791\uc131", "status": "completed", "priority": "medium"}, {"id": "quiz-18", "content": "18\ubc88 \uc774\ud130\ub808\uc774\uc158 \ud034\uc988 \uc791\uc131", "status": "completed", "priority": "medium"}, {"id": "quiz-19", "content": "19\ubc88 \ud074\ub798\uc2a4 \ud034\uc988 \uc791\uc131", "status": "completed", "priority": "medium"}, {"id": "quiz-20", "content": "20\ubc88 \uc790\ub8cc\uad6c\uc870 \ud034\uc988 \uc791\uc131", "status": "completed", "priority": "medium"}, {"id": "quiz-21", "content": "21\ubc88 \ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d \ud034\uc988 \uc791\uc131", "status": "completed", "priority": "medium"}, {"id": "quiz-22", "content": "22\ubc88 \uc608\uc678 \ucc98\ub9ac \ud034\uc988 \uc791\uc131", "status": "completed", "priority": "medium"}, {"id": "quiz-23", "content": "23\ubc88 \ubaa8\ub4c8 \uc2dc\uc2a4\ud15c \ud034\uc988 \uc791\uc131", "status": "completed", "priority": "medium"}, {"id": "quiz-24", "content": "24\ubc88 \uae30\ud0c0 \uc720\uc6a9\ud55c \uae30\ub2a5 \ud034\uc988 \uc791\uc131", "status": "completed", "priority": "medium"}]