<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì½”ë“œ ì‹¤í–‰ í…ŒìŠ¤íŠ¸</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-btn { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin: 10px; }
        .test-btn:hover { background: #0056b3; }
        .code-block { background: #f8f9fa; padding: 10px; border-radius: 5px; font-family: monospace; margin: 10px 0; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; }
        .modal.active { display: flex; align-items: center; justify-content: center; }
        .modal-content { background: white; padding: 20px; border-radius: 10px; width: 80%; max-width: 800px; max-height: 80%; overflow: auto; }
        .modal-header { display: flex; justify-content: between; align-items: center; border-bottom: 1px solid #ddd; padding-bottom: 10px; margin-bottom: 20px; }
        .modal-close { background: none; border: none; font-size: 24px; cursor: pointer; }
        .code-editor textarea { width: 100%; height: 200px; font-family: monospace; }
        .output-tabs { display: flex; border-bottom: 1px solid #ddd; margin-bottom: 10px; }
        .tab-btn { background: none; border: none; padding: 10px 20px; cursor: pointer; }
        .tab-btn.active { background: #007bff; color: white; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .tab-content pre { background: #f8f9fa; padding: 10px; border-radius: 5px; font-family: monospace; white-space: pre-wrap; }
        .btn { background: #007bff; color: white; padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; margin: 5px; }
        .btn-secondary { background: #6c757d; }
        .btn-small { padding: 4px 8px; font-size: 12px; }
    </style>
</head>
<body>
    <h1>JavaScript ì½”ë“œ ì‹¤í–‰ í…ŒìŠ¤íŠ¸</h1>
    
    <h2>í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë“¤</h2>
    
    <div class="code-block">
        <h3>1. ê¸°ë³¸ ì½˜ì†” ì¶œë ¥</h3>
        <code>console.log('Hello, World!');</code>
        <button class="test-btn" onclick="testCode1()">ì‹¤í–‰</button>
    </div>
    
    <div class="code-block">
        <h3>2. ê³„ì‚°ê³¼ ë°˜í™˜ê°’</h3>
        <code>let result = 5 + 3; console.log('ê³„ì‚° ê²°ê³¼:', result); return result;</code>
        <button class="test-btn" onclick="testCode2()">ì‹¤í–‰</button>
    </div>
    
    <div class="code-block">
        <h3>3. ì˜¤ë¥˜ ë°œìƒ</h3>
        <code>let x = undefinedVariable; console.log(x);</code>
        <button class="test-btn" onclick="testCode3()">ì‹¤í–‰</button>
    </div>
    
    <div class="code-block">
        <h3>4. ë°°ì—´ê³¼ ê°ì²´</h3>
        <code>let arr = [1, 2, 3]; let obj = {name: 'JavaScript', version: 'ES6'}; console.log('ë°°ì—´:', arr); console.log('ê°ì²´:', obj); return {arr, obj};</code>
        <button class="test-btn" onclick="testCode4()">ì‹¤í–‰</button>
    </div>

    <!-- ì½”ë“œ ì‹¤í–‰ ëª¨ë‹¬ -->
    <div class="modal" id="code-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ğŸ’» ì½”ë“œ ì‹¤í–‰ í™˜ê²½</h3>
                <div class="modal-controls">
                    <button class="btn-small" id="copy-output">ğŸ“‹ ë³µì‚¬</button>
                    <button class="modal-close" aria-label="ë‹«ê¸°">Ã—</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="code-editor-container">
                    <div class="code-editor">
                        <div class="editor-header">
                            <span>ì½”ë“œ í¸ì§‘ê¸°</span>
                        </div>
                        <textarea id="code-input" placeholder="JavaScript ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                        <div class="editor-footer">
                            <button class="btn btn-primary" id="run-code">â–¶ ì‹¤í–‰ (Ctrl+Enter)</button>
                            <button class="btn btn-secondary" id="clear-code">ğŸ—‘ï¸ ì§€ìš°ê¸°</button>
                            <button class="btn btn-secondary" id="clear-output">ğŸ“„ ì¶œë ¥ ì§€ìš°ê¸°</button>
                        </div>
                    </div>
                    <div class="code-output">
                        <div class="output-header">
                            <h4>ğŸ“‹ ì‹¤í–‰ ê²°ê³¼</h4>
                        </div>
                        <div class="output-container">
                            <div class="output-tabs">
                                <button class="tab-btn active" data-tab="console">Console</button>
                                <button class="tab-btn" data-tab="result">Result</button>
                                <button class="tab-btn" data-tab="errors">Errors</button>
                            </div>
                            <div class="output-content">
                                <div class="tab-content active" id="console-output">
                                    <pre id="output-result"></pre>
                                </div>
                                <div class="tab-content" id="result-output">
                                    <pre id="return-result"></pre>
                                </div>
                                <div class="tab-content" id="error-output">
                                    <pre id="error-result"></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/codeRunner.js"></script>
    <script>
        // CodeRunner ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
        const codeRunner = new CodeRunner();
        window.codeRunner = codeRunner;

        // í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë“¤
        function testCode1() {
            codeRunner.executeCode("console.log('Hello, World!');");
        }

        function testCode2() {
            codeRunner.executeCode("let result = 5 + 3;\nconsole.log('ê³„ì‚° ê²°ê³¼:', result);\nreturn result;");
        }

        function testCode3() {
            codeRunner.executeCode("let x = undefinedVariable;\nconsole.log(x);");
        }

        function testCode4() {
            codeRunner.executeCode("let arr = [1, 2, 3];\nlet obj = {name: 'JavaScript', version: 'ES6'};\nconsole.log('ë°°ì—´:', arr);\nconsole.log('ê°ì²´:', obj);\nreturn {arr, obj};");
        }

        // Clear code ë²„íŠ¼ ì´ë²¤íŠ¸
        document.getElementById('clear-code').addEventListener('click', () => {
            document.getElementById('code-input').value = '';
        });
    </script>
</body>
</html>